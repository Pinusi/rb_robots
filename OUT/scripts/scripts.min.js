if(!CLIENT)var CLIENT={};if(CLIENT.ROBOTSWORLD||(CLIENT.ROBOTSWORLD={}),CLIENT.ROBOTSWORLD.Robot=function(initial_position,eventual_instruction){return this.position_sequence=["N","E","S","W"],this.alive=!0,parseInt(initial_position.split(" ")[0],10)>=window.ROBOTSWORLD.width?void(this.alive=!1):(this.x=initial_position.split(" ")[0]<50?parseInt(initial_position.split(" ")[0],10):50,parseInt(initial_position.split(" ")[1],10)>=window.ROBOTSWORLD.height?void(this.alive=!1):(this.y=initial_position.split(" ")[1]<50?parseInt(initial_position.split(" ")[1],10):50,this.dir=initial_position.split(" ")[2],void(eventual_instruction&&this.moveRobot(eventual_instruction))))},CLIENT.ROBOTSWORLD.Robot.prototype.moveRobot=function(instructions){var instruction_array=instructions.split("");instruction_array.length>100&&(instruction_array=instruction_array.slice(0,99));for(var fall_out=!1,i=0;i<instruction_array.length;i++){switch(instruction_array[i]){case"L":this.rotateRobot(!0);break;case"F":fall_out=this.ffRobot();break;case"R":this.rotateRobot(!1)}if(fall_out){this.alive=!1;break}}},CLIENT.ROBOTSWORLD.Robot.prototype.rotateRobot=function(isleft){var position_sequence_index=this.position_sequence.indexOf(this.dir),new_dir_index=0;isleft?(new_dir_index=position_sequence_index-1,this.dir=new_dir_index>=0?this.position_sequence[new_dir_index]:this.position_sequence[3]):(new_dir_index=position_sequence_index+1,this.dir=4>new_dir_index?this.position_sequence[new_dir_index]:this.position_sequence[0])},CLIENT.ROBOTSWORLD.Robot.prototype.ffRobot=function(){var fallen_out=!1,new_pos=0,new_pos_string="";return"N"==this.dir?(new_pos=this.y+1,new_pos_string=this.x.toString()+new_pos.toString(),-1==window.ROBOTSWORLD.notsafe.indexOf(new_pos_string)&&(this.y=new_pos,this.y>=window.ROBOTSWORLD.height&&(window.ROBOTSWORLD.notsafe.push(this.x.toString()+new_pos.toString()),fallen_out=!0))):"S"==this.dir?(new_pos=this.y-1,new_pos_string=this.x.toString()+new_pos.toString(),-1==window.ROBOTSWORLD.notsafe.indexOf(new_pos_string)&&(this.y=new_pos,this.y<0&&(window.ROBOTSWORLD.notsafe.push(this.x.toString()+new_pos.toString()),fallen_out=!0))):"E"==this.dir?(new_pos=this.x+1,new_pos_string=new_pos.toString()+this.y.toString(),-1==window.ROBOTSWORLD.notsafe.indexOf(new_pos_string)&&(this.x=new_pos,this.x>=window.ROBOTSWORLD.width&&(window.ROBOTSWORLD.notsafe.push(new_pos_string),fallen_out=!0))):(new_pos=this.x-1,new_pos_string=new_pos.toString()+this.y.toString(),-1==window.ROBOTSWORLD.notsafe.indexOf(new_pos_string)&&(this.x=new_pos,this.x<0&&(window.ROBOTSWORLD.notsafe.push(new_pos_string),fallen_out=!0))),fallen_out},!CLIENT)var CLIENT={};CLIENT.ROBOTSWORLD||(CLIENT.ROBOTSWORLD={}),CLIENT.ROBOTSWORLD.Main=function(width,height,container){this.width=width+1,this.height=height+1,this.notsafe=[],this.robots=[],this.$container=$(container),this.$container.css("width",100*width),this.$container.css("height",100*height)},CLIENT.ROBOTSWORLD.Main.prototype.createRobots=function(data){for(var i=0;i<data.length;i++){var eventual_instructions=data[i].instructions?data[i].instructions:"",new_robot=new CLIENT.ROBOTSWORLD.Robot(data[i].position,eventual_instructions);new_robot.alive?(this.robots.push(new_robot),console.log(new_robot.x+" "+new_robot.y+" "+new_robot.dir)):console.log(new_robot.x+" "+new_robot.y+" "+new_robot.dir+" LOST")}};